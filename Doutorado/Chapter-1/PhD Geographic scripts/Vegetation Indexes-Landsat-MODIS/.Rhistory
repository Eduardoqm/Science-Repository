#Geracao de indices com imagens Landsat para a Area1 - Tang
#Eduardo Q Marques /30/07/2019/
library(raster)
library(rasterVis)
--------------------
#List of satellite bands (menos a banda 6)
list1 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band1.tif$", full.names=TRUE,recursive=TRUE)
list2 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band2.tif$", full.names=TRUE,recursive=TRUE)
list3 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band3.tif$", full.names=TRUE,recursive=TRUE)
list4 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band4.tif$", full.names=TRUE,recursive=TRUE)
list5 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band5.tif$", full.names=TRUE,recursive=TRUE)
list7 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band7.tif$", full.names=TRUE,recursive=TRUE)
#TM-------------------------------------------------------------------------------------------------------------------
#List of satellite bands (menos a banda 6)
list1 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band1.tif$", full.names=TRUE,recursive=TRUE)
list2 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band2.tif$", full.names=TRUE,recursive=TRUE)
list3 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band3.tif$", full.names=TRUE,recursive=TRUE)
list4 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band4.tif$", full.names=TRUE,recursive=TRUE)
list5 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band5.tif$", full.names=TRUE,recursive=TRUE)
list7 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop5", pattern = "band7.tif$", full.names=TRUE,recursive=TRUE)
#Convert data into rasterbrick for faster processing
b1 <- brick(stack(list1))
b2 <- brick(stack(list2))
b3 <- brick(stack(list3))
b4 <- brick(stack(list4))
b5 <- brick(stack(list5))
b7 <- brick(stack(list7))
b1 <- b1/10000
b2 <- b2/10000
b3 <- b3/10000
b4 <- b4/10000
b5 <- b5/10000
b7 <- b7/10000
#Pigment Specific Simple Ratio (PSSR)
pssr <- (b4-b3)
plot(pssr)
b1 <- brick(stack(list1))
b2 <- brick(stack(list2))
b3 <- brick(stack(list3))
b4 <- brick(stack(list4))
b5 <- brick(stack(list5))
b7 <- brick(stack(list7))
#Pigment Specific Simple Ratio (PSSR)
pssr <- (b4-b3)
plot(pssr)
#Normalize
b1 <- b1/10000
b2 <- b2/10000
b3 <- b3/10000
b4 <- b4/10000
b5 <- b5/10000
b7 <- b7/10000
#Pigment Specific Simple Ratio (PSSR)
pssr <- (b4-b3)
plot(pssr)
plot(pssr[[15]])
#OLI------------------------------------------------------------------------------------------------------------------
#List of satellite bands(banda 2 ate a banda 7 sÃ£o equivalentes as bandas do landsat5)
list2 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band2.tif$", full.names=TRUE,recursive=TRUE)
list3 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band3.tif$", full.names=TRUE,recursive=TRUE)
list4 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band4.tif$", full.names=TRUE,recursive=TRUE)
list5 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band5.tif$", full.names=TRUE,recursive=TRUE)
list6 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band6.tif$", full.names=TRUE,recursive=TRUE)
list7 <- list.files(path="C:/Users/Eduardo Q Marques/Documents/My Jobs/Doutorado/Deposito/Banco de Dados Tanguro/Landsat/landsatcrop8", pattern = "band7.tif$", full.names=TRUE,recursive=TRUE)
#Convert data into rasterbrick for faster processing
b2 <- brick(stack(list2))
b3 <- brick(stack(list3))
b4 <- brick(stack(list4))
b5 <- brick(stack(list5))
b6 <- brick(stack(list6))
b7 <- brick(stack(list7))
#Normalize
b2 <- b2/10000
b3 <- b3/10000
b4 <- b4/10000
b5 <- b5/10000
b6 <- b6/10000
b7 <- b7/10000
#Pigment Specific Simple Ratio (PSSR)
pssr_b <- (b5-b4)
plot(pssr_b)
plot(pssr_b[[15]])
plot(pssr_b[[1]])
